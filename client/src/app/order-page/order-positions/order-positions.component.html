<ng-container *ngIf = "positions$ | async as positions; else loader">
  <table class="highlight" *ngIf = "positions.length !== 0; else empty">
    <thead>
    <tr>
      <th>Название</th>
      <th>Стоимость</th>
      <th>Количество</th>
      <th></th>
    </tr>
    </thead>

    <tbody>
    <tr *ngFor = "let position of positions$ | async as positions">
      <td>{{ position.name }}</td>
      <td>{{ position.cost }}</td>
      <td>
        <div class="input-field inline order-position-input">
          <input type="number" min="1" [(ngModel)] = "position.quantity">
        </div>
      </td>
      <td>
        <button
          class="btn waves-effect wavers-light btn-small"
          [disabled] = "position.quantity < 1"
          (click) = "addToOrder(position)"
        >
          Добавить
        </button>
      </td>
    </tr>
    </tbody>
  </table>
</ng-container>

<ng-template #empty>
  <p class="center">Список категорий пуст</p>
</ng-template>

<ng-template #loader>
  <app-loader></app-loader>
</ng-template>
